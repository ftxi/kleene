<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kleene Interpreter</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Try Kleene Online</h1>
        
        <div class="input-group">
            <label for="code">Write code/load example</label>
            <select id="examplesSelect" style="display:none;">
                <option value="">--- Select example ---</option>
            </select>
            <button id="loadExamplesBtn">load</button>
            <textarea id="code" spellcheck="false" placeholder="Enter code here...">; Welcome to Kleene Language
; comments starts with a semicolon
; syntax: &lt;variable&gt; = &lt;expression&gt;
id = P1_1 ;id(x) = x is the projection from totally one value to the first value
tmp = S(P3_2) ; tmp(x1,x2,x3) = S(x2) = x2+1
; S(P3_2) is a composition of projection and successor
; the successor S is S(x) = x+1
add = id @ tmp; add(x,y) = x+y defined by primitive recursion operator @
; add(x1,x2) = if x1=0 then id(x2) else tmp(x1-1,add(x1-1,x2),x2)
; expressions can be composed together, so above is equivalent to
add_ = P1_1 @ S(P3_2) ; variables can be defined only once
not = 1 @ C2_0 ; not(0) = 1; not(n+1) = 0
; C2_0 is the constant function receiving 2 operand and output 0
; 1 is the syntactic sugar for C0_1, i.e. constant 1
pred = 0 @ P2_1
solution = $ not(pred(pred(add(P2_1,P2_2)))) ; solution(y) = the smallest x with not(max{0,x+y-2})=0
main = add(40,solution(1)) ; main is the default entry point, click "run" to evaluate
; alternatively, change the "entry" block to solution, fill the operands in "input" block
; and then click "run" to evaluate solution(&lt;operands&gt;)
</textarea>
        </div>

        <div class="input-group">
            <label for="entry">Entry</label>
            <input type="text" id="entry"  spellcheck="false" placeholder="If not specified, entry point is 'main'">
        </div>

        <div class="input-group">
            <label for="input">Input</label>
            <input type="text" id="input" placeholder="Enter operands for entry point: natural numbers, space-separated (e.g., 1 2 3 4)">
        </div>

        <button id="runBtn">Run</button>

        <div class="output-section">
            <label>Output</label>
            <div id="output" class="output-box">Output will appear here...</div>
        </div>
        <p>More information: <a href="https://github.com/ftxi/kleene">github repository for the Kleene language</a></p>
    </div>

    <!-- Load the Emscripten-generated JavaScript -->
    <script src="library.js"></script>
    <script src="script.js"></script>
</body>
</html>
